<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Recipes with Angular.js - Repeatedly Rendering Directive's DOM Node Children</title>
    <meta keywords="javascript, js, angular.js, angularjs, recipes with angular.js, recipes with angularjs, best practices, cookbook, tutorial, book">
    <meta name="viewport" content="width=device-width">

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>

    <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:300,400' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="/recipes-with-angular-js/css/application.css" type="text/css" media="all" />
  </head>
    <body ng-app="RecipesApp">

      <div class="contain-to-grid">
        <nav class="top-bar">
          <ul class="title-area">
            <li class="name">
              <h1>
                <a href="/recipes-with-angular-js/">
                  <img class="logo-image" src="/recipes-with-angular-js/images/AngularJS-Shield-small.png" alt="" width="36" height="36">
                  <span>Recipes with Angular.js</span>
                </a>
              </h1>
            </li>
            <li class="toggle-topbar menu-icon">
              <a href="#"><span>Menu</span></a>
            </li>
          </ul>

          <section class="top-bar-section2">
            <ul class="right" style="position: relative">
              <li class="has-form">
                <div class="row collapse">
                  <div class="large-8 small-9 columns">
                    <input type="text" id="search-query" name="q" autocomplete="off" placeholder="Search recipes">
                  </div>
                  <div class="large-4 small-3 columns">
                    <a href="#" class="alert button expand top-bar-button">Search</a>
                  </div>
                </div>
              </li>

              <div id="search-results" style="display: none;">
                <ul class="entries">
                </ul>
              </div>
            </ul>
          </section>
        </nav>
      </div>

      <div class="row">
        <div class="large-12 columns">
          <div class="row">
  <div class="large-3 medium-6 columns">
    <ul class="side-nav">
  <li> <a href="/recipes-with-angular-js/index.html">Home</a> </li>
  
    <li >
      <a href="/recipes-with-angular-js/introduction/index.html">Introduction</a>

      

    </li>
  
    <li >
      <a href="/recipes-with-angular-js/controllers/index.html">Controllers</a>

      

    </li>
  
    <li  class="active" >
      <a href="/recipes-with-angular-js/directives/index.html">Directives</a>

      
        <ul>
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
                <li >
                  <a href="/recipes-with-angular-js//directives/enabling-disabling-dom-elements-conditionally.html">Enabling/Disabling DOM Elements Conditionally</a>
                </li>
              
            
          
            
          
            
          
            
          
            
              
                <li >
                  <a href="/recipes-with-angular-js//directives/changing-the-dom-in-response-to-user-actions.html">Changing the DOM in response to user actions</a>
                </li>
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
                <li >
                  <a href="/recipes-with-angular-js//directives/rendering-an-html-snippet-in-a-directive.html">Rendering an HTML Snippet in a Directive</a>
                </li>
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
                <li >
                  <a href="/recipes-with-angular-js//directives/rendering-a-directives-dom-node-children.html">Rendering a Directive's DOM Node Children</a>
                </li>
              
            
          
            
              
                <li >
                  <a href="/recipes-with-angular-js//directives/passing-configuration-params-using-html-attributes.html">Passing Configuration Params Using HTML Attributes</a>
                </li>
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
                <li  class="active" >
                  <a href="/recipes-with-angular-js//directives/repeatedly-rendering-directives-dom-node-children.html">Repeatedly Rendering Directive's DOM Node Children</a>
                </li>
              
            
          
            
          
            
          
            
              
                <li >
                  <a href="/recipes-with-angular-js//directives/directive-to-directive-communication.html">Directive-to-Directive Communication</a>
                </li>
              
            
          
            
          
            
          
            
          
            
              
                <li >
                  <a href="/recipes-with-angular-js//directives/testing-directives.html">Testing Directives</a>
                </li>
              
            
          
        </ul>
      

    </li>
  
    <li >
      <a href="/recipes-with-angular-js/filters/index.html">Filters</a>

      

    </li>
  
    <li >
      <a href="/recipes-with-angular-js/using-forms/index.html">Using Forms</a>

      

    </li>
  
    <li >
      <a href="/recipes-with-angular-js/consuming-external-services/index.html">Consuming External Services</a>

      

    </li>
  
    <li >
      <a href="/recipes-with-angular-js/urls-routing-and-partials/index.html">Urls Routing and Partials</a>

      

    </li>
  
    <li >
      <a href="/recipes-with-angular-js/common-user-interface-patterns/index.html">Common User Interface Patterns</a>

      

    </li>
  
    <li >
      <a href="/recipes-with-angular-js/backend-integration-with-ruby-on-rails/index.html">Backend Integration with Ruby on Rails</a>

      

    </li>
  
    <li >
      <a href="/recipes-with-angular-js/backend-integration-with-node-express/index.html">Backend Integration with Node Express</a>

      

    </li>
  

  <!-- <li >
    <a href="/recipes-with-angular-js/introduction/index.html">Introduction</a>
    
  </li>

  <li >
    <a href="/recipes-with-angular-js/controllers/index.html">Controllers</a>
    
  </li>

  <li  class="active" >
    <a href="/recipes-with-angular-js/directives/index.html">Directives</a>
    
      <ul>
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            <li>
              <a href="/recipes-with-angular-js/directives/index.html">Directives</a>
            </li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            <li>
              <a href="/recipes-with-angular-js/directives/enabling-disabling-dom-elements-conditionally.html">Enabling/Disabling DOM Elements Conditionally</a>
            </li>
          
        
          
        
          
        
          
        
          
            <li>
              <a href="/recipes-with-angular-js/directives/changing-the-dom-in-response-to-user-actions.html">Changing the DOM in response to user actions</a>
            </li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            <li>
              <a href="/recipes-with-angular-js/directives/rendering-an-html-snippet-in-a-directive.html">Rendering an HTML Snippet in a Directive</a>
            </li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            <li>
              <a href="/recipes-with-angular-js/directives/rendering-a-directives-dom-node-children.html">Rendering a Directive's DOM Node Children</a>
            </li>
          
        
          
            <li>
              <a href="/recipes-with-angular-js/directives/passing-configuration-params-using-html-attributes.html">Passing Configuration Params Using HTML Attributes</a>
            </li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            <li>
              <a href="/recipes-with-angular-js/directives/repeatedly-rendering-directives-dom-node-children.html">Repeatedly Rendering Directive's DOM Node Children</a>
            </li>
          
        
          
        
          
        
          
            <li>
              <a href="/recipes-with-angular-js/directives/directive-to-directive-communication.html">Directive-to-Directive Communication</a>
            </li>
          
        
          
        
          
        
          
        
          
            <li>
              <a href="/recipes-with-angular-js/directives/testing-directives.html">Testing Directives</a>
            </li>
          
        
      </ul>
    
  </li>

  <li >
    <a href="/recipes-with-angular-js/filters/index.html">Filters</a>
    
  </li>

  <li >
    <a href="/recipes-with-angular-js/consuming-external-services/index.html">Consuming External Services</a>
    
  </li>

  <li >
    <a href="/recipes-with-angular-js/urls-routing-and-partials/index.html">URLs, Routing and Partials</a>
    
  </li>

  <li >
    <a href="/recipes-with-angular-js/common-user-interface-patterns/index.html">Common User Interface Patterns</a>
    
  </li>

  <li >
    <a href="/recipes-with-angular-js/backend-integration-with-ruby-on-rails/index.html">Backend Integration with Ruby on Rails</a>
    
  </li>

  <li >
    <a href="/recipes-with-angular-js/backend-integration-with-node-express/index.html">Backend Integration with Node Express</a>
    
  </li> -->
</ul>
  </div>
  <div class="large-9 medium-6 columns content">
    <h2>Repeatedly Rendering Directive's DOM Node Children</h2>
    <h3 id="problem">Problem</h3>
<p>You wish to render an HTML snippet repeatedly using the directive’s child nodes as the “stamp” content.</p>

<h3 id="solution">Solution</h3>
<p>Implement a compile function in your directive.</p>

<div>
  <pre data-line=""><code class="language-markup">&lt;repeat-ntimes repeat=&quot;10&quot;&gt;
  &lt;h1&gt;Header 1&lt;/h1&gt;
  &lt;p&gt;This is the paragraph.&lt;/p&gt;
&lt;/repeat-n-times&gt;</code></pre>
</div>

<div>
  <pre data-line=""><code class="language-javascript">var app = angular.module(&quot;MyApp&quot;, []);

app.directive(&quot;repeatNtimes&quot;, function() {
  return {
    restrict: &quot;E&quot;,
    compile: function(tElement, attrs) {
      var content = tElement.children();
      for (var i=1; i&lt;attrs.repeat; i++) {
        tElement.append(content.clone());
      }
    }
  };
});</code></pre>
</div>

<p>This will render the header and paragraph 10 times.</p>

<h3 id="discussion">Discussion</h3>
<p>The directive repeats the child nodes as often as configured in the <code>repeat</code> attribute. It works similarly to the <a href="http://docs.angularjs.org/api/ng.directive:ngRepeat">ng-repeat</a> directive. The implementation uses Angular’s element methods to append the child nodes in a for loop.</p>

<p>Note that the compile method only has access to the templates element <code>tElement</code> and template attributes. It has no access to the scope and you therefore can’t use <code>$watch</code> to add behavior either. This is in comparison to the link function that has access to the DOM “instance” (after the compile phase) and has access to the scope to add behavior.</p>

<p>Use the compile function for template DOM manipulation only. Use the link function whenever you want to add behavior.</p>

<p>Note that you can use both compile and link function combined. In this case the compile function must return the link function. As an example you want to react to a click on the header:</p>

<div>
  <pre data-line=""><code class="language-javascript">compile: function(tElement, attrs) {
  var content = tElement.children();
  for (var i=1; i&lt;attrs.repeat; i++) {
    tElement.append(content.clone());
  }

  return function (scope, element, attrs) {
    element.on(&quot;click&quot;, &quot;h1&quot;, function() {
      $(this).css({ &quot;background-color&quot;: &quot;red&quot; });
    });
  };
}</code></pre>
</div>

<p>Clicking the header will change the background color to red.</p>


    <!-- <div class="recipe-actions">
      
        <form class="jsfiddle" method="post" action="http://jsfiddle.net/api/post/library/pure/" target="_blank">
              <input type="hidden" name="html" value="&lt;body ng-app=&quot;MyApp&quot;&gt;
  &lt;repeat-ntimes repeat=&quot;10&quot;&gt;
    &lt;h1&gt;Header 1&lt;/h1&gt;
    &lt;p&gt;This is the paragraph.&lt;/p&gt;
  &lt;/repeat-n-times&gt;
&lt;/body&gt;
"></input>

              <input type="hidden" name="js" value="var app = angular.module(&quot;MyApp&quot;, []);

app.directive(&quot;repeatNtimes&quot;, function() {
  return {
    restrict: &quot;E&quot;,
    compile: function(tElement, attrs) {
      var content = tElement.children();
      for (var i=1; i&lt;attrs.repeat; i++) {
        tElement.append(content.clone());
      }

      return function (scope, element, attrs) {
        element.on(&quot;click&quot;, &quot;h1&quot;, function() {
          $(this).css({ &quot;background-color&quot;: &quot;red&quot; });
        });
      };
    }
  };
});"></input>

        
              <input type="hidden" name="resources" value="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js,http://code.jquery.com/jquery-1.10.1.min.js,http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css"></input>

        <button class="btn small btn-primary">Edit in jsfiddle</button>
      </form>
      
    </div> -->

    <div id="disqus_thread"></div>
      <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'recipes-with-angularjs-site'; // required: replace example  with your forum shortname

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
 </div>
</div>

        </div>
      </div>

      <footer>
        <div class="row">
          <div class="large-12 columns">
            <div class="row">
              <div class="large-6 columns">
                <p>
                  Maintained by <a href="http://fdietz.de">Frederik Dietz</a>
                </p>
              </div>

              <div class="large-6 columns text-right">
                <p>All content licensed with <a href="http://creativecommons.org/">Creative Commons</a></p>
              </div>
            </div>
          </div>
        </div>
      </footer>

      
        <script id="search-results-template" type="text/mustache">
          {{#entries}}
            <li>
              <a href="/recipes-with-angular-js{{url}}">{{title}}</a>
            </li>
          {{/entries}}
        </script>
      

      <script src="/recipes-with-angular-js/js/application.js" type="text/javascript" charset="utf-8"></script>
      <script src="/recipes-with-angular-js/js/jquery.js"></script>
      <script src="/recipes-with-angular-js/js/foundation.min.js" type="text/javascript" charset="utf-8"></script>
      <script src="/recipes-with-angular-js/js/prism.js" type="text/javascript" charset="utf-8"></script>

      <script src="/recipes-with-angular-js/js/date.format.js"></script>
      <script src="/recipes-with-angular-js/js/mustache.js"></script>
      <script src="/recipes-with-angular-js/js/URI.min.js"></script>
      <script src="/recipes-with-angular-js/js/lunr.js"></script>
      <script src="/recipes-with-angular-js/js/jquery.lunr.search.js"></script>

      <script>
        $(document).foundation();
      </script>

      <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-42557266-1']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

      </script>

      <script type="text/javascript">
        $(function() {
          $('#search-query').lunrSearch({
            indexUrl: '/recipes-with-angular-js/search.json',
            results:  '#search-results',
            entries:  '.entries',
            template: '#search-results-template'
          });

        });
      </script>
    </body>
</html>
